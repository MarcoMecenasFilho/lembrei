{"ast":null,"code":"import _toConsumableArray from\"/home/marcoantonio/Documentos/projetos-pessoais/listadecompras/nossafaltouisso/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import React,{useContext}from'react';import Header from'../components/Header';import AppContext from'../context/AppContext';import'../style/TodoList.css';import Table from'react-bootstrap/Table';import{tableHeader}from'../services/datas';import{setLocalStore}from'../services/localStorageFunctions';import remover from'../images/remover.png';import comprado from'../images/comprado.png';import naocomprado from'../images/naocomprado.png';import logo from'../images/logo.gif';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function TodoList(){var _useContext=useContext(AppContext),actualList=_useContext.actualList,setActualList=_useContext.setActualList,idGlobal=_useContext.idGlobal,setIdGlobal=_useContext.setIdGlobal,checkboxList=_useContext.checkboxList,setCheckboxList=_useContext.setCheckboxList,addProduct=_useContext.addProduct,setAddProduct=_useContext.setAddProduct;function deleteProduct(_ref){var currentTarget=_ref.currentTarget;var listFiltered=actualList.filter(function(ids){return Number(currentTarget.value)!==ids.idProduct;});var obj={buyList:listFiltered,id:idGlobal};setActualList(listFiltered);setLocalStore('list',obj);var checkboxFiltered=checkboxList.filter(function(elem){return elem!==currentTarget.value;});setCheckboxList(checkboxFiltered);setLocalStore('checkbox-items',checkboxFiltered);}function cheboxLocal(_ref2){var currentTarget=_ref2.currentTarget;var filtered=checkboxList.some(function(id){return Number(id)===Number(currentTarget.value);});if(!filtered){setCheckboxList([].concat(_toConsumableArray(checkboxList),[currentTarget.value]));setLocalStore('checkbox-items',[].concat(_toConsumableArray(checkboxList),[currentTarget.value]));}if(filtered){var checkboxFiltered=checkboxList.filter(function(elem){return elem!==currentTarget.value;});setCheckboxList(checkboxFiltered);setLocalStore('checkbox-items',checkboxFiltered);}}function checkedBox(idvalue){var result=checkboxList.some(function(id){return Number(idvalue)===Number(id);});if(result){return true;}}function clearTable(){setIdGlobal(0);setActualList([]);setCheckboxList([]);setLocalStore('checkbox-items',[]);setLocalStore('list',{buyList:[],id:0});}function iconBuy(idProduct){var result=checkedBox(idProduct);if(result){return comprado;}return naocomprado;}function print(){alert(\"\\nSer\\xE1 aberta a op\\xE7\\xE3o de imprimir. \\n\\nCaso deseje uma c\\xF3pia f\\xEDsica, deve escolher a\\nimpressora que preferir.\\n\\nPara gerar um arquivo, deve se escolher a op\\xE7\\xE3o de\\nsalvar em PDF.\\n\\nObs: Para melhor visualiza\\xE7\\xE3o escolher o layout que\\nmelhor ficam os dados (Retrato/paisagem).\\n\\nIr em Mais defini\\xE7\\xF5es e ativar Gr\\xE1ficos de segundo\\nplano e Desativar Cabe\\xE7alhos e rodap\\xE9s.\");window.print();}var list=/*#__PURE__*/_jsxs(\"div\",{className:addProduct?'add table-list':'noAdd table-list',children:[/*#__PURE__*/_jsxs(\"div\",{className:\"btns-table\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"addProduct-btn\",type:\"button\",onClick:function onClick(){return setAddProduct(!addProduct);},children:addProduct?\"Fechar formulário\":\"Adicionar despesa\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn-clear\",onClick:clearTable,children:\"Limpar Tabela\"}),!addProduct&&/*#__PURE__*/_jsx(\"button\",{className:\"print\",type:\"button\",onClick:function onClick(){return print();},children:\"Imprimir\"})]}),/*#__PURE__*/_jsxs(Table,{responsive:true,striped:true,bordered:true,hover:true,children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"#\"}),tableHeader.map(function(elem,index){return/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"p\",{children:elem})},index);})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:actualList.map(function(elem,index){return/*#__PURE__*/_jsxs(\"tr\",{className:checkedBox(elem.idProduct)&&\"scratched\",children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"p\",{children:index})}),elem.categoryText===\"\"?/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"p\",{children:elem.category})}):/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"p\",{children:elem.categoryText})}),elem.subcategoryText===\"\"?/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"p\",{children:elem.subcategory})}):/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"p\",{children:elem.subcategoryText})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"p\",{children:elem.quantity})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"p\",{children:elem.unit})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"p\",{children:elem.note})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"buy-btn\",type:\"button\",value:elem.idProduct,onClick:function onClick(e){return cheboxLocal(e);},src:iconBuy(elem.idProduct),children:/*#__PURE__*/_jsx(\"img\",{src:iconBuy(elem.idProduct),alt:\"comprado\"})})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",src:remover,className:\"delete-btn\",value:elem.idProduct,onClick:function onClick(e){return deleteProduct(e);},children:/*#__PURE__*/_jsx(\"img\",{src:remover,alt:\"button delete\"})})})]},index);})})]})]});return/*#__PURE__*/_jsxs(\"div\",{className:\"master\",children:[/*#__PURE__*/_jsx(\"img\",{src:logo,alt:\"logo\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"main-container\",children:[addProduct&&/*#__PURE__*/_jsx(Header,{}),list]})]});}","map":{"version":3,"sources":["/home/marcoantonio/Documentos/projetos-pessoais/listadecompras/nossafaltouisso/src/pages/TodoList.jsx"],"names":["React","useContext","Header","AppContext","Table","tableHeader","setLocalStore","remover","comprado","naocomprado","logo","TodoList","actualList","setActualList","idGlobal","setIdGlobal","checkboxList","setCheckboxList","addProduct","setAddProduct","deleteProduct","currentTarget","listFiltered","filter","ids","Number","value","idProduct","obj","buyList","id","checkboxFiltered","elem","cheboxLocal","filtered","some","checkedBox","idvalue","result","clearTable","iconBuy","print","alert","window","list","map","index","categoryText","category","subcategoryText","subcategory","quantity","unit","note","e"],"mappings":"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","sourcesContent":["import React, {useContext} from 'react';\nimport Header from '../components/Header';\nimport AppContext from '../context/AppContext';\nimport '../style/TodoList.css'\nimport Table from 'react-bootstrap/Table';\nimport { tableHeader } from '../services/datas';\nimport { setLocalStore } from '../services/localStorageFunctions';\nimport remover from '../images/remover.png';\nimport comprado from '../images/comprado.png';\nimport naocomprado from '../images/naocomprado.png';\nimport logo from '../images/logo.gif';\n\n\nexport default function TodoList() {\n  const {actualList, setActualList, idGlobal,setIdGlobal, checkboxList, setCheckboxList,addProduct, \n    setAddProduct } = useContext(AppContext);\n  function deleteProduct({currentTarget}) {          \n    const listFiltered = actualList.filter((ids) => (Number(currentTarget.value) !== ids.idProduct\n    ))\n    const obj = {\n      buyList: listFiltered,\n      id: idGlobal,\n    }\n    setActualList(listFiltered)\n    setLocalStore('list',  obj)\n    const checkboxFiltered = checkboxList.filter((elem) => (\n      elem !== currentTarget.value\n    ))\n    setCheckboxList(checkboxFiltered)\n    setLocalStore('checkbox-items', checkboxFiltered)\n  }\n\n  \n  function cheboxLocal({currentTarget}) {\n    const filtered = checkboxList.some((id) => Number(id) === Number(currentTarget.value))\n    if(!filtered) {\n      setCheckboxList([...checkboxList, currentTarget.value]);\n      setLocalStore('checkbox-items', [...checkboxList, currentTarget.value]);\n    }\n    if(filtered) {\n      const checkboxFiltered = checkboxList.filter((elem) => (\n        elem !== currentTarget.value\n      ))\n        setCheckboxList(checkboxFiltered);\n        setLocalStore('checkbox-items', checkboxFiltered);\n        }\n  }\n  \n  function checkedBox(idvalue) {  \n    const result = checkboxList.some((id) => Number(idvalue) ===  Number(id))    \n    if(result) {\n      return true\n    }\n  }\n\n  function clearTable() {\n    setIdGlobal(0);\n    setActualList([]);\n    setCheckboxList([]);\n    setLocalStore('checkbox-items', []);\n    setLocalStore('list', {buyList: [], id:0});\n  }\n\n  function iconBuy(idProduct) {\n    const result = checkedBox(idProduct)   \n    if(result) {\n      return comprado\n    }\n    return naocomprado\n  }\n\n  function print() {\n    alert(`\nSerá aberta a opção de imprimir. \n\nCaso deseje uma cópia física, deve escolher a\nimpressora que preferir.\n\nPara gerar um arquivo, deve se escolher a opção de\nsalvar em PDF.\n\nObs: Para melhor visualização escolher o layout que\nmelhor ficam os dados (Retrato/paisagem).\n\nIr em Mais definições e ativar Gráficos de segundo\nplano e Desativar Cabeçalhos e rodapés.`);\n      window.print();\n  }\n\n  const list = (\n    <div className={addProduct ? 'add table-list' : 'noAdd table-list'} >\n      <div className='btns-table'>\n          <button className='addProduct-btn' type='button' onClick={() => setAddProduct(!addProduct)}>\n            {addProduct ? \"Fechar formulário\" : \"Adicionar despesa\"}\n          </button>\n          <button type='button'  className='btn-clear' onClick={clearTable}>Limpar Tabela</button>\n        {!addProduct && <button className='print' type='button' onClick={() => print()}>Imprimir</button>}\n      </div>\n      <Table responsive striped  bordered hover>\n        <thead >\n            <tr>\n              <th>#</th>\n              {tableHeader.map((elem, index) => (\n                <th key={index}><p>{elem}</p></th>\n              ))}\n            </tr>\n        </thead>\n      <tbody>\n        {actualList.map((elem, index) => (\n          <tr key={index} className= {checkedBox(elem.idProduct) && \"scratched\" } >\n            <td><p>{index}</p></td>\n            {elem.categoryText === \"\" ? <td><p>{elem.category}</p></td> :\n            <td><p>{elem.categoryText}</p></td>}\n            {elem.subcategoryText === \"\" ? (<td><p>{elem.subcategory}</p></td>) :\n            (<td><p>{elem.subcategoryText}</p></td>)}\n            <td><p>{elem.quantity}</p></td>\n            <td><p>{elem.unit}</p></td>\n            <td><p>{elem.note}</p></td>\n            <td>\n              <button \n                className=\"buy-btn\"\n                type='button'\n                value={elem.idProduct}\n                onClick={(e) => cheboxLocal(e)}\n                src={ iconBuy(elem.idProduct) }>\n                  {<img src={iconBuy(elem.idProduct)} alt='comprado'/>}\n              </button>\n            </td>\n            <td>\n              <button\n                type=\"button\"\n                src={remover}\n                className=\"delete-btn\"\n                value={elem.idProduct}\n                onClick={(e) => deleteProduct(e)} >\n                  <img src={remover} alt='button delete'/>\n              </button>\n            </td>\n          </tr>\n      ))}\n        \n      </tbody>\n    </Table>\n  </div>   \n  )\n\n  return (\n    <div className='master'>\n      <img src={logo} alt='logo' />\n    <div className='main-container'>\n      {addProduct && <Header/>}\n      {list}\n    </div>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}